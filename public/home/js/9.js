(function(){var g=document,f=window.location,h=f.protocol+"//baike."+(-1<f.hostname.indexOf(".sogou.com")?"sogou":"sogo")+".com/dr/p1.gif",k=f.protocol+"//baike."+(-1<f.hostname.indexOf(".sogou.com")?"sogou":"sogo")+".com/pr/pingd",d={server:h,errServer:k+"?srctype=exception",cookiePrefix:"sqstat_",imgArr:[],cookie:"",query:"",hostname:f.hostname,referrer:g.referrer,domain:"",cookieInfo:{},queryInfo:{},divHandlers:[],data:{},gatherTypes:{ss_c:"div"},groupTypes:{ch:"ch",pid:"pid"},persistentTypes:{pid:{entr:"ss_pidf"},
cid:{entr:"ss_cidf"}},cookieParam:["ssuid","pid","cid","ss_pidf","ss_cidf","p_uin"],kvSplit:function(a,b,c){if("string"!=typeof a||""===a)return{};c=c||"=";var d={};a=a.split(b||"&");for(b=0;b<a.length;++b)if(0!=a[b].length){var e=a[b],f=e.indexOf(c);if(!(0>f)){var g=e.substring(0,f),e=e.substring(f+c.length);d[g]=e}}return d},getDomain:function(a){if(void 0===a&&this.domain)return this.domain;void 0===a&&(a=this.hostname);var b=a.split(".");domain=b[b.length-1].match(/^\d+$/)?a:b.slice(-2).join(".");a===
this.hostname&&(this.domain=domain);return domain},getCookie:function(a){g.cookie!==this.cookie&&(this.cookie=g.cookie,this.cookieInfo=this.kvSplit(g.cookie,"; "));return this.cookieInfo[a]?decodeURIComponent(this.cookieInfo[a]):this.cookieInfo[a]},getQuery:function(a){f.search!==this.query&&(this.query=f.search,this.queryInfo=this.kvSplit(f.search.substring(1)));return this.queryInfo[a]},setCookie:function(a,b,c,d,e){d=d||"/";e=e||this.getDomain();a=a+"="+encodeURIComponent(b);c||0===c?(b=new Date,
"unlimited"==c?b.setFullYear(2038,0,1):"number"==typeof c&&(0>=c?b.setFullYear(1970,1,1):b.setTime(b.getTime()+1E3*c)),c="; expires="+b.toGMTString()):c="";g.cookie=a+c+(d?";path="+d:"")+(e?";domain="+e:"")},delCookie:function(a,b,c){this.setCookie(a,"",0,b,c)},loopDivs:function(){for(var a=g.getElementsByTagName("div"),b=0;b<a.length;++b)for(var c=0;c<this.divHandlers.length;++c)this.divHandlers[c](a[b])},regDivHandler:function(a){this.divHandlers.push(a)},regDivHandlers:function(){for(var a in this.gatherTypes)this.regDivHandler(this.getGatherFunc(a));
for(a in this.groupTypes)this.regDivHandler(this.getGroupFunc(a))},getGatherFunc:function(a,b){b=b||"^";var c=this.data;return function(d){if(d=d.getAttribute(a))c[a]=void 0===c[a]?"":c[a],c[a]+=(""===c[a]?"":b)+d}},getGroupFunc:function(a,b){b=b||this.getDomain();var c=this;return function(d){var e=d.getAttribute(a);if(e){e=a+"="+e;d=d.getElementsByTagName("a");for(var f=new RegExp("[&?]"+a+"="),g=0;g<d.length;++g)url=d[g],c.getDomain(url.hostname)!=b||f.test(url.search)||(url.href=" "+url.href+
(url.search?"&":"?")+e)}}},genSsuid:function(){var a=(new Date).getUTCMilliseconds();return Math.round(2147483647*Math.random())*a%1E10},submit:function(a,b){b=b||this.server;var c="";void 0!==a.ref&&(c="ref="+a.ref,delete a.ref);for(var d in a)c+=(c?"&":"")+d+"="+a[d];c+=(c?"&":"")+"rand="+Math.random();a=b+"?"+c;b=new Image;var e=this.imgArr.push(b),f=this.imgArr;b.onload=b.onerror=function(){f[e-1]=null};b.src=a;b=null},setPersistentParams:function(){for(var a in this.persistentTypes){var b=this.persistentTypes[a].entr||
this.cookiePrefix+a+"_f",c=this.getQuery(a);c?c==this.getCookie(a)?this.setCookie(b,"1"):(this.delCookie(b),this.setCookie(a,c)):this.getCookie(a)&&this.setCookie(b,"1")}},run:function(a){"object"!=typeof a&&(a={});this.setPersistentParams();this.regDivHandlers();this.loopDivs();this.getCookie("ssuid")||this.setCookie("ssuid",this.genSsuid(),"unlimited");a.ver=5;a.ref=encodeURIComponent(this.referrer);a.searchId=window.__searchId||0;for(var b in this.gatherTypes){var c=this.gatherTypes[b];this.data[b]&&
(a[c]=this.data[b])}for(b=0;b<this.cookieParam.length;b++)c=this.cookieParam[b],a[c]=this.getCookie(c);this.submit(a)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari/i.test(navigator.userAgent)},stget:function(a,b,c,g,e){d.getCookie("ssuid")||d.setCookie("ssuid",d.genSsuid(),"unlimited");domainname=f.hostname.toLowerCase();-1<domainname.indexOf("wenwen")?b=d.isMobile()?"wapask":"ask":-1<domainname.indexOf("baike")?b=d.isMobile()?"wapbaike":"baike":
-1<domainname.indexOf("zhinan")?b=d.isMobile()?"wapzhinan":"zhinan":-1<domainname.indexOf("ld")||-1<domainname.indexOf("luedong")||-1<domainname.indexOf("ldapi")?b=d.isMobile()?"wapld":"ld":-1<domainname.indexOf("zhuanjia")&&(b=d.isMobile()?"wapzhuanjia":"zhuanjia");c=c||"";g=g||0;e=e||0;var h=window.__searchId||0;a={srctype:"getsret",lurl:escape(f),ch:a,sc:b,ourl:escape(c),qid:g,sort:e,ssuid:d.getCookie("ssuid"),searchId:h||0,orig:d.isMobile()?254:253};d.submit(a,k)},apget:function(a,b){d.getCookie("ssuid")||
d.setCookie("ssuid",d.genSsuid(),"unlimited");domainname=f.hostname.toLowerCase();-1<domainname.indexOf("wenwen")?b=d.isMobile()?"wapask":"ask":-1<domainname.indexOf("baike")?b=d.isMobile()?"wapbaike":"baike":-1<domainname.indexOf("zhinan")?b=d.isMobile()?"wapzhinan":"zhinan":-1<domainname.indexOf("ld")||-1<domainname.indexOf("luedong")||-1<domainname.indexOf("ldapi")?b=d.isMobile()?"wapld":"ld":-1<domainname.indexOf("zhuanjia")&&(b=d.isMobile()?"wapzhuanjia":"zhuanjia");a={srctype:"getap",lurl:escape(f),
ap:a,sc:b,ssuid:d.getCookie("ssuid"),orig:d.isMobile()?254:253};d.submit(a,k)}};window.__shequstat=d;window.stget=d.stget;window.apget=d.apget;d.run()})();